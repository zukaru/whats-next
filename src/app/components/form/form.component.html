<form  autocomplete="false" class="form" #f="ngForm"(keyup)="this.emitIsFormDirty(f.dirty)" (ngSubmit)="this.taskFormSubmit(f)" >

    <div class="form__group">
        <label for="whoIs" class="form__group__label">Task Creator Initials *</label>
        <input
            #whoIs="ngModel"
            name="whoIs"
            ngModel
            required 
            autocomplete="no"
            type="text" 
            maxlength="3"
            minlength="3"
        class="form__group__input">
        <p class="error" *ngIf="whoIs.invalid && (whoIs.dirty || whoIs.touched)">Please fill with your 3 initials.</p>
    </div>

   
    
    <h2 class="form__heading">Client's Contact Info</h2>
    <div class="form__group">
        <label for="fName" class="form__group__label">First Name *</label>
        <input
            #fName="ngModel"
            name="fName"
            ngModel
            required 
            autocomplete="no"
            type="text" 
        class="form__group__input">
        <p class="error" *ngIf="fName.invalid && (fName.dirty || fName.touched)">Please fill with client's first name.</p>
    </div>
    <div class="form__group">
        <label for="last_name" class="form__group__label">Last Name</label>
        <input
            #lName
            name="lName"
            ngModel
            autocomplete="new-password"
            type="text" 
        class="form__group__input">
    </div>
    <div class="form__group">
        <label for="phoneNums" class="form__group__label">Phone Number *</label>
        <input
            mask="(000) 000-0000"
            #phoneNums="ngModel"
            name="phoneNums"
            ngModel
            required
            autocomplete="new-password"
            type="text"
        class="form__group__input">
        <p class="error" *ngIf="phoneNums.invalid && (phoneNums.dirty || phoneNums.touched)">Please fill with client's phone number.</p>
    </div>
    <div class="form__group">
        <label for="email" class="form__group__label">Email</label>
        <input 
            #email="ngModel"
            name="email"
            ngModel
            autocomplete="new-password"
            pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+(?<!\.)\.(?!\.)[A-Za-z]{2,4}" 
            type="text" 
        class="form__group__input">
        <p class="error" *ngIf="email.invalid && (email.dirty || email.touched)">Please fill with valid email.</p>
    </div>

    <div class="form__group">
        <label for="address" class="form__group__label">Address</label>
        <input 
            #address
            name="address"
            ngModel
            autocomplete="new-password" 
            type="text" 
        class="form__group__input">
    </div>

    <h2 class="form__heading">Task Info</h2>

    <div class="form__group-textarea">
        <label for="task_description" class="form__group-textarea__label">Task Description *</label>
        <textarea
            #task_description="ngModel"
            name="task_description"
            ngModel
            required 
            autocomplete="new-password" 
            type="text" 
        class="form__group-textarea__textarea"></textarea>
        <p class="error" *ngIf="task_description.invalid && (task_description.dirty || task_description.touched)">Please fill with a description of the task.</p>
    </div>

    <div class="form__group">
        <label for="material" class="form__group__label">Material</label>
        <input 
            #material
            name="material"
            ngModel
            autocomplete="new-password" 
            type="text" 
        class="form__group__input">
    </div>

    <div class="form__group">
        <label for="price" class="form__group__label">Price (without tax)</label>
        <input
            #price
            name="price"
            ngModel  
            prefix="$"
            mask="separator.2 decimal.2" 
            decimalMarker="." thousandSeparator="," 
            id="price" autocomplete="new-password" 
            type="text" 
        class="form__group__input">
    </div>

    <div class="form__group">
        <label for="payment" class="form__group__label">Payment</label>
        <input 
            #payment
            name="payment"
            ngModel
            prefix="$"
            mask="separator.2 decimal.2" 
            decimalMarker="." 
            thousandSeparator=","  
            autocomplete="new-password" 
            type="text" 
        class="form__group__input">
    </div>

    <h2 class="form__heading">Task Status</h2>

    <div class="form__group">
        <label for="status" class="form__group__label">Status *</label>
        <select
            required
            #status="ngModel"
            name="status"
            ngModel
            autocomplete="new-password" 
            type="select" 
        class="form__group__input">
            <option id="select-placeholder" disabled selected value=""></option>
            <option value="📋 Estimate Pending">📋 Estimate Pending</option>
            <option value="🤔 Estimate Pending Approval">🤔 Estimate Pending Approval</option>
            <option value="💳 Materials Pending Order">💳 Materials Pending Order</option>
            <option value="🚚 Materials Pending Delivery">🚚 Materials Pending Delivery</option>
            <option value="🟢 Ready to Start">🟢 Ready to Start</option>
            <option value="🛠️ Work Started">🛠️ Work Started</option>
            <option value="✔️ Complete">✔️ Complete</option>
            <option value="🏁 Paid, Picked up / Delivered">🏁 Paid, Picked up / Delivered</option>
            <option value="Custom (describe in status notes)">Custom (describe in status notes)</option>
        </select>
        <p class="error" *ngIf="status.invalid && (status.dirty || status.touched)">Please select a status.</p>
    </div>

    <div class="form__group">
        <label for="status_notes" class="form__group__label">Status Notes</label>
        <input 
            #status_notes
            name="status_notes"
            ngModel
            autocomplete="new-password" 
            type="select" 
        class="form__group__input">
    </div>

    <div class="form__group">
        <label for="deadline" class="form__group__label">Due By Date</label>
        <input
            #deadline
            name="deadline"
            ngModel
            autocomplete="new-password" 
            type="date" 
        class="form__group__input">
    </div>
    
    <button [disabled]="f.invalid || f.submitted" type="submit" class="form__btn" >Submit</button>
    <p *ngIf="taskSubmitted">Task Entry Submitted!</p>
    <p class="error-color" *ngIf="task_description.invalid">Missing task description.</p>
    <p class="error-color" *ngIf="phoneNums.invalid ">Missing client's phone number.</p>
    <p class="error-color" *ngIf="email.invalid ">Missing client's email address.</p>
    <p class="error-color" *ngIf="fName.invalid ">Missing client's first name.</p>
    <p class="error-color" *ngIf="whoIs.invalid ">Missing task creator's initials</p>
    <p class="error-color" *ngIf="status.invalid">Missing a status.</p>

</form>